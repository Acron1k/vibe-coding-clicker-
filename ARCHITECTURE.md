# Vibecode-Clicker | –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞

```
vibecode-clicker/
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico
‚îÇ   ‚îî‚îÄ‚îÄ assets/
‚îÇ       ‚îú‚îÄ‚îÄ sprites/          # AI-—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø—Ä–∞–π—Ç—ã
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ tools/        # –ò–∫–æ–Ω–∫–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ buttons/      # –ö–Ω–æ–ø–∫–∏ –∏ UI —ç–ª–µ–º–µ–Ω—Ç—ã
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ effects/      # –ß–∞—Å—Ç–∏—Ü—ã –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã
‚îÇ       ‚îî‚îÄ‚îÄ sounds/           # –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.tsx              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx               # –ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ index.css             # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ + Tailwind
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ components/           # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MainLayout.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ResponsiveContainer.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ game/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ClickButton.tsx       # –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –∫–ª–∏–∫–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CurrencyDisplay.tsx   # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–∞–ª—é—Ç
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ToolCard.tsx          # –ö–∞—Ä—Ç–æ—á–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ToolList.tsx          # –°–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SubscriptionPanel.tsx # –ü–∞–Ω–µ–ª—å –ø–æ–¥–ø–∏—Å–æ–∫
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UpgradePanel.tsx      # –ü–∞–Ω–µ–ª—å –∞–ø–≥—Ä–µ–π–¥–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MilestoneTracker.tsx  # –¢—Ä–µ–∫–µ—Ä –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PrestigeModal.tsx     # –ú–æ–¥–∞–ª–∫–∞ –ø—Ä–µ—Å—Ç–∏–∂–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ effects/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ParticleSystem.tsx    # –°–∏—Å—Ç–µ–º–∞ —á–∞—Å—Ç–∏—Ü
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FloatingNumber.tsx    # –í—Å–ø–ª—ã–≤–∞—é—â–∏–µ —á–∏—Å–ª–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ BackgroundMatrix.tsx  # –§–æ–Ω–æ–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Button.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Card.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Badge.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ProgressBar.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Tooltip.tsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ Modal.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ store/                # Zustand —Å–æ—Å—Ç–æ—è–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.ts          # –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö stores
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ gameStore.ts      # –û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π store
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ toolStore.ts      # –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subscriptionStore.ts # –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ upgradeStore.ts   # –°–æ—Å—Ç–æ—è–Ω–∏–µ –∞–ø–≥—Ä–µ–π–¥–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ milestoneStore.ts # –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ engine/               # –ò–≥—Ä–æ–≤–æ–π –¥–≤–∏–∂–æ–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GameLoop.ts       # –û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CalculationEngine.ts # –†–∞—Å—á–µ—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PrestigeSystem.ts # –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ—Å—Ç–∏–∂–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ OfflineProgress.ts # –†–∞—Å—á–µ—Ç –æ—Ñ–ª–∞–π–Ω –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ data/                 # –ò–≥—Ä–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tools.ts          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subscriptions.ts  # –£—Ä–æ–≤–Ω–∏ –ø–æ–¥–ø–∏—Å–æ–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ upgrades.ts       # –ê–ø–≥—Ä–µ–π–¥—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ milestones.ts     # –ú–∞–π–ª—Å—Ç–æ—É–Ω—ã
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ services/             # –°–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StorageService.ts # LocalStorage/IndexedDB
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SaveManager.ts    # –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ EventEmitter.ts   # –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ hooks/                # –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useGameLoop.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useAutoSave.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useOfflineProgress.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useResponsive.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ utils/                # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ formatters.ts     # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ calculations.ts   # –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ constants.ts      # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–≥—Ä—ã
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ types/                # TypeScript —Ç–∏–ø—ã
‚îÇ       ‚îú‚îÄ‚îÄ game.types.ts
‚îÇ       ‚îú‚îÄ‚îÄ tool.types.ts
‚îÇ       ‚îú‚îÄ‚îÄ subscription.types.ts
‚îÇ       ‚îî‚îÄ‚îÄ upgrade.types.ts
‚îÇ
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ tailwind.config.js
‚îú‚îÄ‚îÄ vite.config.ts
‚îî‚îÄ‚îÄ README.md
```

---

## üî∑ TypeScript –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

```typescript
// types/game.types.ts

// –í–∞–ª—é—Ç—ã
interface Currencies {
  vibeCodes: number;      // VB - –æ—Å–Ω–æ–≤–Ω–∞—è –≤–∞–ª—é—Ç–∞
  devPoints: number;      // DP - –ø—Ä–µ–º–∏—É–º –≤–∞–ª—é—Ç–∞
  promptTokens: number;   // PT - —Å—É–ø–µ—Ä-–ø—Ä–µ–º–∏—É–º –≤–∞–ª—é—Ç–∞
}

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–∞
interface PlayerStats {
  totalClicks: number;
  totalVibeCodesEarned: number;
  totalPrestigeCount: number;
  projectTokens: number;  // –¢–æ–∫–µ–Ω—ã –ø—Ä–µ—Å—Ç–∏–∂–∞ (–ø–µ—Ä–º–∞–Ω–µ–Ω—Ç–Ω—ã–π –±–æ–Ω—É—Å)
  playTime: number;       // –í —Å–µ–∫—É–Ω–¥–∞—Ö
  lastOnlineTime: number; // Unix timestamp
}

// –ò–≥—Ä–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
interface GameState {
  currencies: Currencies;
  stats: PlayerStats;
  settings: GameSettings;
  lastSaveTime: number;
}

interface GameSettings {
  soundEnabled: boolean;
  particlesEnabled: boolean;
  autoSaveInterval: number; // –í —Å–µ–∫—É–Ω–¥–∞—Ö
  theme: 'dark' | 'synthwave' | 'matrix';
}
```

### –¢–∏–ø—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

```typescript
// types/tool.types.ts

type ToolTier = 1 | 2 | 3; // –£—Ä–æ–≤–µ–Ω—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

interface ToolDefinition {
  id: string;
  name: string;
  description: string;
  detailedDescription: string;
  tier: ToolTier;
  baseCost: number;           // –ë–∞–∑–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤ VB
  baseProduction: number;     // –ë–∞–∑–æ–≤–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ VB/—Å–µ–∫
  unlockCondition: UnlockCondition;
  iconPath: string;
}

interface UnlockCondition {
  type: 'clicks' | 'vibeCodes' | 'toolPurchased' | 'toolCount' | 'always';
  value?: number;
  toolId?: string;
}

// –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫—É–ø–ª–µ–Ω–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
interface OwnedTool {
  toolId: string;
  count: number;              // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö
  subscriptionTier: SubscriptionTier;
  totalProduced: number;      // –í—Å–µ–≥–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–æ —ç—Ç–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º
}
```

### –¢–∏–ø—ã –ø–æ–¥–ø–∏—Å–æ–∫

```typescript
// types/subscription.types.ts

type SubscriptionTier = 'free' | 'pro' | 'proPlus' | 'max' | 'ultra';

interface SubscriptionDefinition {
  tier: SubscriptionTier;
  displayName: string;
  dpCostPerMonth: number;     // 0 –¥–ª—è free
  vbMultiplier: number;       // 1x, 1.5x, 2.5x, 4x, 6x
  ptBonusPerSec: number;      // 0, 0, 5, 15, 30
  critChance: number;         // 0%, 0%, 0%, 1%, 3%
  features: string[];
}

// –ê–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
interface ActiveSubscription {
  toolId: string;
  tier: SubscriptionTier;
  activatedAt: number;        // Unix timestamp
  expiresAt: number;          // Unix timestamp (–¥–ª—è –±—É–¥—É—â–µ–≥–æ)
}
```

### –¢–∏–ø—ã –∞–ø–≥—Ä–µ–π–¥–æ–≤

```typescript
// types/upgrade.types.ts

type UpgradeCategory = 'click' | 'aiMultiplier' | 'idle';

interface UpgradeDefinition {
  id: string;
  name: string;
  description: string;
  category: UpgradeCategory;
  cost: number;               // –í VB
  effect: UpgradeEffect;
  unlockCondition?: UnlockCondition;
}

interface UpgradeEffect {
  type: 'clickMultiplier' | 'productionMultiplier' | 'offlineMultiplier';
  value: number;              // –ü—Ä–æ—Ü–µ–Ω—Ç –∏–ª–∏ –º–Ω–æ–∂–∏—Ç–µ–ª—å
  isAdditive: boolean;        // true = +X%, false = xX
}

interface OwnedUpgrade {
  upgradeId: string;
  purchasedAt: number;
}
```

### –¢–∏–ø—ã –º–∞–π–ª—Å—Ç–æ—É–Ω–æ–≤

```typescript
// types/milestone.types.ts

interface MilestoneDefinition {
  id: string;
  name: string;
  description: string;
  condition: MilestoneCondition;
  rewards: MilestoneReward[];
}

interface MilestoneCondition {
  type: 'vibeCodes' | 'toolCount' | 'subscriptionCount' | 'clicks' | 'custom';
  value: number;
  customCheck?: () => boolean;
}

interface MilestoneReward {
  type: 'vibeCodes' | 'devPoints' | 'promptTokens' | 'unlock' | 'multiplier';
  value: number;
  unlockId?: string;
}

interface CompletedMilestone {
  milestoneId: string;
  completedAt: number;
}
```

---

## üóÑÔ∏è Zustand Store –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ì–ª–∞–≤–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π Store

```typescript
// store/gameStore.ts
import { create } from 'zustand';
import { persist, createJSONStorage } from 'zustand/middleware';

interface GameStore {
  // –°–æ—Å—Ç–æ—è–Ω–∏–µ
  currencies: Currencies;
  stats: PlayerStats;
  settings: GameSettings;
  isInitialized: boolean;
  
  // –î–µ–π—Å—Ç–≤–∏—è —Å –≤–∞–ª—é—Ç–∞–º–∏
  addVibeCodes: (amount: number) => void;
  spendVibeCodes: (amount: number) => boolean;
  addDevPoints: (amount: number) => void;
  spendDevPoints: (amount: number) => boolean;
  addPromptTokens: (amount: number) => void;
  
  // –î–µ–π—Å—Ç–≤–∏—è —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
  incrementClicks: () => void;
  addPlayTime: (seconds: number) => void;
  setLastOnlineTime: (time: number) => void;
  
  // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
  updateSettings: (settings: Partial<GameSettings>) => void;
  
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Å–±—Ä–æ—Å
  initialize: () => void;
  resetGame: () => void;
  prestigeReset: () => { projectTokens: number };
}

export const useGameStore = create<GameStore>()(
  persist(
    (set, get) => ({
      currencies: { vibeCodes: 0, devPoints: 0, promptTokens: 0 },
      stats: {
        totalClicks: 0,
        totalVibeCodesEarned: 0,
        totalPrestigeCount: 0,
        projectTokens: 0,
        playTime: 0,
        lastOnlineTime: Date.now(),
      },
      settings: {
        soundEnabled: true,
        particlesEnabled: true,
        autoSaveInterval: 5,
        theme: 'dark',
      },
      isInitialized: false,

      addVibeCodes: (amount) => {
        set((state) => ({
          currencies: {
            ...state.currencies,
            vibeCodes: state.currencies.vibeCodes + amount,
          },
          stats: {
            ...state.stats,
            totalVibeCodesEarned: state.stats.totalVibeCodesEarned + amount,
          },
        }));
      },

      spendVibeCodes: (amount) => {
        const { currencies } = get();
        if (currencies.vibeCodes >= amount) {
          set((state) => ({
            currencies: {
              ...state.currencies,
              vibeCodes: state.currencies.vibeCodes - amount,
            },
          }));
          return true;
        }
        return false;
      },

      // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
    }),
    {
      name: 'vibecode-game-state',
      storage: createJSONStorage(() => localStorage),
    }
  )
);
```

### Store –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

```typescript
// store/toolStore.ts
import { create } from 'zustand';
import { persist } from 'zustand/middleware';

interface ToolStore {
  ownedTools: Map<string, OwnedTool>;
  unlockedToolIds: Set<string>;
  
  // –î–µ–π—Å—Ç–≤–∏—è
  purchaseTool: (toolId: string) => boolean;
  upgradeSubscription: (toolId: string, tier: SubscriptionTier) => boolean;
  unlockTool: (toolId: string) => void;
  checkUnlocks: (state: GameState) => void;
  
  // –ì–µ—Ç—Ç–µ—Ä—ã
  getToolCount: (toolId: string) => number;
  getTotalProduction: () => number;
  getToolProduction: (toolId: string) => number;
  getCurrentCost: (toolId: string) => number;
}

// –§–æ—Ä–º—É–ª–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏: baseCost * (1.15 ^ count)
const calculateToolCost = (baseCost: number, owned: number): number => {
  return Math.floor(baseCost * Math.pow(1.15, owned));
};

// –§–æ—Ä–º—É–ª–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —Å —É—á–µ—Ç–æ–º –ø–æ–¥–ø–∏—Å–∫–∏
const calculateToolProduction = (
  baseProduction: number,
  count: number,
  subscriptionMultiplier: number,
  globalMultiplier: number
): number => {
  return baseProduction * count * subscriptionMultiplier * globalMultiplier;
};
```

---

## ‚öôÔ∏è –ò–≥—Ä–æ–≤–æ–π –î–≤–∏–∂–æ–∫

### Game Loop

```typescript
// engine/GameLoop.ts

export class GameLoop {
  private lastTick: number = 0;
  private tickInterval: number = 100; // 100ms = 10 —Ç–∏–∫–æ–≤/—Å–µ–∫
  private isRunning: boolean = false;
  private animationFrameId: number | null = null;

  private onTick: (deltaTime: number) => void;

  constructor(onTick: (deltaTime: number) => void) {
    this.onTick = onTick;
  }

  start(): void {
    if (this.isRunning) return;
    this.isRunning = true;
    this.lastTick = performance.now();
    this.loop();
  }

  stop(): void {
    this.isRunning = false;
    if (this.animationFrameId) {
      cancelAnimationFrame(this.animationFrameId);
    }
  }

  private loop = (): void => {
    if (!this.isRunning) return;

    const now = performance.now();
    const deltaTime = now - this.lastTick;

    if (deltaTime >= this.tickInterval) {
      this.onTick(deltaTime / 1000); // –ü–µ—Ä–µ–¥–∞–µ–º –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
      this.lastTick = now;
    }

    this.animationFrameId = requestAnimationFrame(this.loop);
  };
}
```

### Calculation Engine

```typescript
// engine/CalculationEngine.ts

import { SUBSCRIPTION_MULTIPLIERS } from '../data/subscriptions';

export class CalculationEngine {
  
  // –†–∞—Å—á–µ—Ç –¥–æ—Ö–æ–¥–∞ –∑–∞ –∫–ª–∏–∫
  static calculateClickIncome(
    baseClick: number = 1,
    clickUpgrades: OwnedUpgrade[],
    projectTokens: number
  ): number {
    let multiplier = 1;
    
    // –ü—Ä–∏–º–µ–Ω—è–µ–º –∞–ø–≥—Ä–µ–π–¥—ã –∫–ª–∏–∫–æ–≤
    clickUpgrades.forEach(upgrade => {
      const def = getUpgradeDefinition(upgrade.upgradeId);
      if (def.effect.isAdditive) {
        multiplier += def.effect.value / 100;
      } else {
        multiplier *= def.effect.value;
      }
    });
    
    // –ü—Ä–∏–º–µ–Ω—è–µ–º –±–æ–Ω—É—Å –ø—Ä–µ—Å—Ç–∏–∂–∞ (+10% –∑–∞ –∫–∞–∂–¥—ã–π Project Token)
    multiplier *= (1 + projectTokens * 0.1);
    
    return Math.floor(baseClick * multiplier);
  }

  // –†–∞—Å—á–µ—Ç –ø–∞—Å—Å–∏–≤–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞ –≤ —Å–µ–∫—É–Ω–¥—É
  static calculatePassiveIncome(
    ownedTools: Map<string, OwnedTool>,
    productionUpgrades: OwnedUpgrade[],
    projectTokens: number
  ): { vibeCodes: number; promptTokens: number } {
    let totalVB = 0;
    let totalPT = 0;

    ownedTools.forEach((owned, toolId) => {
      const toolDef = getToolDefinition(toolId);
      const subMultiplier = SUBSCRIPTION_MULTIPLIERS[owned.subscriptionTier];
      const ptBonus = SUBSCRIPTION_PT_BONUS[owned.subscriptionTier];

      // VB –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ
      totalVB += toolDef.baseProduction * owned.count * subMultiplier.vbMultiplier;
      
      // PT –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ (—Ç–æ–ª—å–∫–æ Pro+ –∏ –≤—ã—à–µ)
      totalPT += ptBonus * owned.count;
    });

    // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –º–Ω–æ–∂–∏—Ç–µ–ª–∏ –æ—Ç –∞–ø–≥—Ä–µ–π–¥–æ–≤
    let globalMultiplier = 1;
    productionUpgrades.forEach(upgrade => {
      const def = getUpgradeDefinition(upgrade.upgradeId);
      if (def.effect.type === 'productionMultiplier') {
        if (def.effect.isAdditive) {
          globalMultiplier += def.effect.value / 100;
        } else {
          globalMultiplier *= def.effect.value;
        }
      }
    });

    // –ë–æ–Ω—É—Å –ø—Ä–µ—Å—Ç–∏–∂–∞
    const prestigeMultiplier = 1 + projectTokens * 0.1;

    return {
      vibeCodes: totalVB * globalMultiplier * prestigeMultiplier,
      promptTokens: totalPT * globalMultiplier,
    };
  }

  // –†–∞—Å—á–µ—Ç –∫—Ä–∏—Ç–∞ (–¥–ª—è Ultra –ø–æ–¥–ø–∏—Å–æ–∫)
  static rollCrit(ownedTools: Map<string, OwnedTool>): number {
    let maxCritChance = 0;
    
    ownedTools.forEach((owned) => {
      const critChance = SUBSCRIPTION_MULTIPLIERS[owned.subscriptionTier].critChance;
      maxCritChance = Math.max(maxCritChance, critChance);
    });

    if (Math.random() < maxCritChance) {
      return 2; // x2 –º–Ω–æ–∂–∏—Ç–µ–ª—å –ø—Ä–∏ –∫—Ä–∏—Ç–µ
    }
    return 1;
  }

  // –†–∞—Å—á–µ—Ç –æ—Ñ–ª–∞–π–Ω –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
  static calculateOfflineProgress(
    lastOnlineTime: number,
    currentTime: number,
    passiveIncome: { vibeCodes: number; promptTokens: number },
    offlineMultiplier: number = 0.5, // 50% –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    maxOfflineHours: number = 2
  ): { vibeCodes: number; promptTokens: number; timePassed: number } {
    const timePassed = Math.min(
      (currentTime - lastOnlineTime) / 1000,
      maxOfflineHours * 3600
    );

    return {
      vibeCodes: Math.floor(passiveIncome.vibeCodes * timePassed * offlineMultiplier),
      promptTokens: Math.floor(passiveIncome.promptTokens * timePassed * offlineMultiplier),
      timePassed,
    };
  }

  // –†–∞—Å—á–µ—Ç –ø—Ä–µ—Å—Ç–∏–∂–∞
  static calculatePrestigeReward(totalVibeCodes: number): {
    projectTokens: number;
    canPrestige: boolean;
  } {
    const PRESTIGE_THRESHOLD = 100000;
    const TOKENS_PER_10K = 1;

    if (totalVibeCodes < PRESTIGE_THRESHOLD) {
      return { projectTokens: 0, canPrestige: false };
    }

    const tokens = Math.floor(totalVibeCodes / 10000) * TOKENS_PER_10K;
    return { projectTokens: tokens, canPrestige: true };
  }
}
```

---

## üíæ –°–∏—Å—Ç–µ–º–∞ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

### Storage Service

```typescript
// services/StorageService.ts

const STORAGE_KEYS = {
  GAME_STATE: 'vibecode-game-state',
  TOOLS: 'vibecode-tools',
  UPGRADES: 'vibecode-upgrades',
  MILESTONES: 'vibecode-milestones',
  VERSION: 'vibecode-save-version',
};

const CURRENT_SAVE_VERSION = 1;

export class StorageService {
  
  // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
  static saveAll(
    gameState: GameState,
    tools: OwnedTool[],
    upgrades: OwnedUpgrade[],
    milestones: CompletedMilestone[]
  ): void {
    try {
      localStorage.setItem(STORAGE_KEYS.VERSION, String(CURRENT_SAVE_VERSION));
      localStorage.setItem(STORAGE_KEYS.GAME_STATE, JSON.stringify(gameState));
      localStorage.setItem(STORAGE_KEYS.TOOLS, JSON.stringify(tools));
      localStorage.setItem(STORAGE_KEYS.UPGRADES, JSON.stringify(upgrades));
      localStorage.setItem(STORAGE_KEYS.MILESTONES, JSON.stringify(milestones));
    } catch (e) {
      console.error('Failed to save game state:', e);
      // Fallback –∫ IndexedDB –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏ localStorage
      this.saveToIndexedDB({ gameState, tools, upgrades, milestones });
    }
  }

  // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
  static loadAll(): SaveData | null {
    try {
      const version = localStorage.getItem(STORAGE_KEYS.VERSION);
      
      if (!version) return null;
      
      // –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
      if (Number(version) < CURRENT_SAVE_VERSION) {
        return this.migrateSaveData(Number(version));
      }

      return {
        gameState: JSON.parse(localStorage.getItem(STORAGE_KEYS.GAME_STATE) || 'null'),
        tools: JSON.parse(localStorage.getItem(STORAGE_KEYS.TOOLS) || '[]'),
        upgrades: JSON.parse(localStorage.getItem(STORAGE_KEYS.UPGRADES) || '[]'),
        milestones: JSON.parse(localStorage.getItem(STORAGE_KEYS.MILESTONES) || '[]'),
      };
    } catch (e) {
      console.error('Failed to load game state:', e);
      return null;
    }
  }

  // –≠–∫—Å–ø–æ—Ä—Ç —Å–µ–π–≤–∞ (–¥–ª—è –±—ç–∫–∞–ø–∞)
  static exportSave(): string {
    const data = this.loadAll();
    return btoa(JSON.stringify(data));
  }

  // –ò–º–ø–æ—Ä—Ç —Å–µ–π–≤–∞
  static importSave(encoded: string): boolean {
    try {
      const data = JSON.parse(atob(encoded));
      this.saveAll(data.gameState, data.tools, data.upgrades, data.milestones);
      return true;
    } catch (e) {
      console.error('Failed to import save:', e);
      return false;
    }
  }

  // IndexedDB fallback
  private static async saveToIndexedDB(data: SaveData): Promise<void> {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è IndexedDB –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
  }

  private static migrateSaveData(fromVersion: number): SaveData | null {
    // –ú–∏–≥—Ä–∞—Ü–∏–∏ –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
    return null;
  }
}

interface SaveData {
  gameState: GameState;
  tools: OwnedTool[];
  upgrades: OwnedUpgrade[];
  milestones: CompletedMilestone[];
}
```

---

## üé® –°–∏—Å—Ç–µ–º–∞ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –ò–µ—Ä–∞—Ä—Ö–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```
App
‚îú‚îÄ‚îÄ MainLayout
‚îÇ   ‚îú‚îÄ‚îÄ Header
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CurrencyDisplay (VB)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CurrencyDisplay (DP)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CurrencyDisplay (PT)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SettingsButton
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ GameArea (—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ClickButton
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ParticleSystem
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ FloatingNumber[]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PassiveIncomeDisplay
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PrestigeButton (–∫–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ ToolPanel (–ª–µ–≤–∞—è/–Ω–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ToolList
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ToolCard[]
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ ToolIcon
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ ToolInfo
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ SubscriptionBadge
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ BuyButton
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ SidePanel (–ø—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TabContainer
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SubscriptionPanel
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SubscriptionCard[]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UpgradePanel
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ UpgradeCard[]
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MilestoneTracker
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ MilestoneCard[]
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ BackgroundMatrix
‚îÇ
‚îú‚îÄ‚îÄ Modals
‚îÇ   ‚îú‚îÄ‚îÄ PrestigeModal
‚îÇ   ‚îú‚îÄ‚îÄ SettingsModal
‚îÇ   ‚îú‚îÄ‚îÄ MilestonePopup
‚îÇ   ‚îî‚îÄ‚îÄ OfflineProgressModal
‚îÇ
‚îî‚îÄ‚îÄ ToastContainer (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
```

### –ü—Ä–∏–º–µ—Ä –∫–ª—é—á–µ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```tsx
// components/game/ClickButton.tsx
import { motion } from 'framer-motion';
import { useGameStore } from '../../store/gameStore';
import { useToolStore } from '../../store/toolStore';
import { CalculationEngine } from '../../engine/CalculationEngine';
import { ParticleSystem } from '../effects/ParticleSystem';
import { FloatingNumber } from '../effects/FloatingNumber';

export const ClickButton: React.FC = () => {
  const { addVibeCodes, incrementClicks, stats } = useGameStore();
  const { ownedTools } = useToolStore();
  const [particles, setParticles] = useState<ParticleData[]>([]);
  const [floatingNumbers, setFloatingNumbers] = useState<FloatingNumberData[]>([]);

  const handleClick = useCallback((e: React.MouseEvent) => {
    const clickValue = CalculationEngine.calculateClickIncome(
      1,
      upgradeStore.getClickUpgrades(),
      stats.projectTokens
    );
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∞
    const critMultiplier = CalculationEngine.rollCrit(ownedTools);
    const finalValue = clickValue * critMultiplier;
    
    addVibeCodes(finalValue);
    incrementClicks();
    
    // –°–ø–∞–≤–Ω –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
    spawnParticles(e.clientX, e.clientY);
    spawnFloatingNumber(e.clientX, e.clientY, finalValue, critMultiplier > 1);
  }, [addVibeCodes, incrementClicks, ownedTools, stats.projectTokens]);

  return (
    <motion.button
      className="relative w-48 h-48 md:w-64 md:h-64 rounded-full 
                 bg-gradient-to-br from-cyan-400 to-purple-600
                 shadow-[0_0_60px_rgba(0,217,255,0.5)]
                 hover:shadow-[0_0_80px_rgba(0,217,255,0.7)]
                 active:scale-95 transition-all"
      whileTap={{ scale: 0.95 }}
      onClick={handleClick}
      aria-label="Click to generate Vibe Codes"
    >
      <span className="text-white text-2xl font-bold">VIBE</span>
      <ParticleSystem particles={particles} />
      {floatingNumbers.map(fn => (
        <FloatingNumber key={fn.id} {...fn} />
      ))}
    </motion.button>
  );
};
```

---

## üìä –î–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

```typescript
// data/tools.ts

export const TOOLS: ToolDefinition[] = [
  // –£—Ä–æ–≤–µ–Ω—å 1: –ë–∞–∑–æ–≤—ã–µ (0-100 VB)
  {
    id: 'claude-baseline',
    name: 'Claude',
    description: '–ë–∞–∑–æ–≤–æ–µ –ø—Ä–æ–º–ø—Ç–µ—Ä–æ–≤–∞–Ω–∏–µ - –ø—Ä–æ—Å—Ç–æ–π Claude –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π',
    detailedDescription: 'AI-–ø–æ–º–æ—â–Ω–∏–∫ –æ—Ç Anthropic –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–ª–∏–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –∏ extended thinking.',
    tier: 1,
    baseCost: 10,
    baseProduction: 0.1,
    unlockCondition: { type: 'always' },
    iconPath: '/assets/sprites/tools/claude.png',
  },
  {
    id: 'chatgpt-4-mini',
    name: 'ChatGPT 4 Mini',
    description: '–ë—ã—Å—Ç—Ä—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞',
    detailedDescription: 'OpenAI GPT-4 Mini - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–¥–∞—á —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.',
    tier: 1,
    baseCost: 50,
    baseProduction: 0.5,
    unlockCondition: { type: 'clicks', value: 30 },
    iconPath: '/assets/sprites/tools/chatgpt.png',
  },
  {
    id: 'gemini-cli',
    name: 'Gemini CLI',
    description: 'Google\'s –º–æ—â–Ω—ã–π –º–Ω–æ–≥–æ–º–æ–¥–∞–ª—å–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä',
    detailedDescription: '–ú–Ω–æ–≥–æ–º–æ–¥–∞–ª—å–Ω—ã–π AI –æ—Ç Google, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å Google Workspace.',
    tier: 1,
    baseCost: 100,
    baseProduction: 1,
    unlockCondition: { type: 'vibeCodes', value: 200 },
    iconPath: '/assets/sprites/tools/gemini.png',
  },
  
  // –£—Ä–æ–≤–µ–Ω—å 2: IDE (100-1000 VB)
  {
    id: 'cursor-ide',
    name: 'Cursor IDE',
    description: 'VS Code –Ω–∞ —Å—Ç–µ—Ä–æ–∏–¥–∞—Ö —Å AI-–∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º',
    detailedDescription: 'IDE —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º AI –Ω–∞ –±–∞–∑–µ Claude, –ø–æ–ø—É–ª—è—Ä–µ–Ω —Å—Ä–µ–¥–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.',
    tier: 2,
    baseCost: 200,
    baseProduction: 2,
    unlockCondition: { type: 'toolPurchased', toolId: 'gemini-cli' },
    iconPath: '/assets/sprites/tools/cursor.png',
  },
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
];

export const getToolDefinition = (id: string): ToolDefinition | undefined => {
  return TOOLS.find(t => t.id === id);
};
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–æ–∫

```typescript
// data/subscriptions.ts

export const SUBSCRIPTION_TIERS: Record<SubscriptionTier, SubscriptionDefinition> = {
  free: {
    tier: 'free',
    displayName: 'Free',
    dpCostPerMonth: 0,
    vbMultiplier: 1,
    ptBonusPerSec: 0,
    critChance: 0,
    features: ['–ë–∞–∑–æ–≤—ã–µ –ø—Ä–æ–º–ø—Ç—ã'],
  },
  pro: {
    tier: 'pro',
    displayName: 'Pro',
    dpCostPerMonth: 10,
    vbMultiplier: 1.5,
    ptBonusPerSec: 0,
    critChance: 0,
    features: ['–î–ª–∏–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã', '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç'],
  },
  proPlus: {
    tier: 'proPlus',
    displayName: 'Pro+',
    dpCostPerMonth: 25,
    vbMultiplier: 2.5,
    ptBonusPerSec: 5,
    critChance: 0,
    features: ['Extended thinking', 'API —É–ª—É—á—à–µ–Ω–∏—è', '+5 PT/—Å–µ–∫'],
  },
  max: {
    tier: 'max',
    displayName: 'Max',
    dpCostPerMonth: 50,
    vbMultiplier: 4,
    ptBonusPerSec: 15,
    critChance: 0.01,
    features: ['–í—Å–µ –ø–ª—é—Å—ã Pro+', '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π', '+15 PT/—Å–µ–∫', '1% –∫—Ä–∏—Ç'],
  },
  ultra: {
    tier: 'ultra',
    displayName: 'Ultra',
    dpCostPerMonth: 100,
    vbMultiplier: 6,
    ptBonusPerSec: 30,
    critChance: 0.03,
    features: ['–†–∞–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø', '+30 PT/—Å–µ–∫', '3% –∫—Ä–∏—Ç x2'],
  },
};
```

---

## üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –í–µ—Ä—Å—Ç–∫–∞

### Tailwind –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```javascript
// tailwind.config.js
module.exports = {
  content: ['./src/**/*.{js,ts,jsx,tsx}'],
  theme: {
    extend: {
      colors: {
        primary: '#00D9FF',      // –ù–µ–æ–Ω–æ–≤—ã–π –≥–æ–ª—É–±–æ–π
        secondary: '#C904ED',    // –ù–µ–æ–Ω–æ–≤—ã–π –ø—É—Ä–ø—É—Ä
        accent: '#00FF41',       // –ù–µ–æ–Ω–æ–≤—ã–π –∑–µ–ª–µ–Ω—ã–π
        dark: {
          bg: '#0A0E27',
          surface: '#12183B',
          border: '#1E2654',
        },
        text: {
          primary: '#E8F0FF',
          secondary: '#8B9DC3',
        },
      },
      screens: {
        'xs': '320px',
        'sm': '640px',
        'md': '768px',
        'lg': '1024px',
        'xl': '1280px',
      },
      animation: {
        'pulse-glow': 'pulse-glow 2s ease-in-out infinite',
        'float': 'float 3s ease-in-out infinite',
        'matrix-fall': 'matrix-fall 10s linear infinite',
      },
      keyframes: {
        'pulse-glow': {
          '0%, 100%': { boxShadow: '0 0 20px rgba(0, 217, 255, 0.5)' },
          '50%': { boxShadow: '0 0 40px rgba(0, 217, 255, 0.8)' },
        },
        'float': {
          '0%, 100%': { transform: 'translateY(0)' },
          '50%': { transform: 'translateY(-10px)' },
        },
      },
    },
  },
  plugins: [],
};
```

### Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

```tsx
// components/layout/MainLayout.tsx
import { useResponsive } from '../../hooks/useResponsive';

export const MainLayout: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const { isMobile, isTablet, isDesktop } = useResponsive();

  return (
    <div className="min-h-screen bg-dark-bg text-text-primary">
      <Header />
      
      {isDesktop && (
        <div className="grid grid-cols-[300px_1fr_350px] gap-4 p-4 h-[calc(100vh-64px)]">
          <aside className="overflow-y-auto">
            <ToolPanel />
          </aside>
          <main className="flex items-center justify-center">
            <GameArea />
          </main>
          <aside className="overflow-y-auto">
            <SidePanel />
          </aside>
        </div>
      )}

      {isTablet && (
        <div className="flex flex-col h-[calc(100vh-64px)]">
          <main className="flex-shrink-0 h-[40vh] flex items-center justify-center p-4">
            <GameArea />
          </main>
          <div className="flex-1 overflow-y-auto p-4">
            <TabContainer tabs={['–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã', '–ü–æ–¥–ø–∏—Å–∫–∏', '–ê–ø–≥—Ä–µ–π–¥—ã']}>
              <ToolPanel />
              <SubscriptionPanel />
              <UpgradePanel />
            </TabContainer>
          </div>
        </div>
      )}

      {isMobile && (
        <div className="flex flex-col h-[calc(100vh-56px)]">
          <main className="flex-shrink-0 h-[35vh] flex items-center justify-center p-2">
            <GameArea compact />
          </main>
          <nav className="flex-shrink-0 border-b border-dark-border">
            <TabNavigation />
          </nav>
          <div className="flex-1 overflow-y-auto">
            <MobileTabContent />
          </div>
        </div>
      )}
      
      <BackgroundMatrix />
    </div>
  );
};
```

---

## üîÑ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

```typescript
// hooks/useGameLoop.ts
import { useEffect, useRef, useCallback } from 'react';
import { useGameStore } from '../store/gameStore';
import { useToolStore } from '../store/toolStore';
import { CalculationEngine } from '../engine/CalculationEngine';

export const useGameLoop = () => {
  const lastTickRef = useRef<number>(Date.now());
  const accumulatorRef = useRef<number>(0);
  const TICK_RATE = 100; // ms

  const { addVibeCodes, addPromptTokens, addPlayTime } = useGameStore();
  const { ownedTools } = useToolStore();
  const upgradeStore = useUpgradeStore();
  const stats = useGameStore((s) => s.stats);

  // –ú–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç –¥–æ—Ö–æ–¥–∞
  const passiveIncome = useMemo(() => {
    return CalculationEngine.calculatePassiveIncome(
      ownedTools,
      upgradeStore.getProductionUpgrades(),
      stats.projectTokens
    );
  }, [ownedTools, stats.projectTokens]);

  const tick = useCallback(() => {
    const now = Date.now();
    const delta = now - lastTickRef.current;
    lastTickRef.current = now;
    
    accumulatorRef.current += delta;
    
    while (accumulatorRef.current >= TICK_RATE) {
      const secondsFraction = TICK_RATE / 1000;
      
      // –î–æ–±–∞–≤–ª—è–µ–º –¥–æ—Ö–æ–¥
      const vbEarned = passiveIncome.vibeCodes * secondsFraction;
      const ptEarned = passiveIncome.promptTokens * secondsFraction;
      
      if (vbEarned > 0) addVibeCodes(vbEarned);
      if (ptEarned > 0) addPromptTokens(ptEarned);
      
      addPlayTime(secondsFraction);
      accumulatorRef.current -= TICK_RATE;
    }
  }, [passiveIncome, addVibeCodes, addPromptTokens, addPlayTime]);

  useEffect(() => {
    const intervalId = setInterval(tick, TICK_RATE);
    return () => clearInterval(intervalId);
  }, [tick]);
};
```

### React –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

```tsx
// –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
export const ToolCard = React.memo<ToolCardProps>(({ tool, owned }) => {
  // ...
}, (prev, next) => {
  return prev.tool.id === next.tool.id && 
         prev.owned?.count === next.owned?.count &&
         prev.owned?.subscriptionTier === next.owned?.subscriptionTier;
});

// –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
import { FixedSizeList } from 'react-window';

export const ToolList: React.FC = () => {
  const tools = useToolStore((s) => s.getUnlockedTools());
  
  if (tools.length > 20) {
    return (
      <FixedSizeList
        height={600}
        width="100%"
        itemCount={tools.length}
        itemSize={120}
      >
        {({ index, style }) => (
          <div style={style}>
            <ToolCard tool={tools[index]} />
          </div>
        )}
      </FixedSizeList>
    );
  }
  
  return (
    <div className="space-y-2">
      {tools.map(tool => <ToolCard key={tool.id} tool={tool} />)}
    </div>
  );
};
```

---

## ‚ôø –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (a11y)

```tsx
// –ü—Ä–∏–º–µ—Ä –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
export const ToolCard: React.FC<ToolCardProps> = ({ tool, owned }) => {
  const canAfford = useGameStore((s) => s.currencies.vibeCodes >= getCurrentCost(tool.id));
  
  return (
    <article
      className="..."
      role="article"
      aria-labelledby={`tool-${tool.id}-name`}
      aria-describedby={`tool-${tool.id}-desc`}
    >
      <h3 id={`tool-${tool.id}-name`}>{tool.name}</h3>
      <p id={`tool-${tool.id}-desc`}>{tool.description}</p>
      
      <div aria-live="polite" aria-atomic="true">
        –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç: {getToolProduction(tool.id).toFixed(1)} VB/—Å–µ–∫
      </div>
      
      <button
        onClick={() => purchaseTool(tool.id)}
        disabled={!canAfford}
        aria-label={`–ö—É–ø–∏—Ç—å ${tool.name} –∑–∞ ${getCurrentCost(tool.id)} Vibe Codes`}
        aria-disabled={!canAfford}
      >
        {canAfford ? `–ö—É–ø–∏—Ç—å (${formatNumber(getCurrentCost(tool.id))} VB)` : '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ VB'}
      </button>
    </article>
  );
};
```

---

## üî¢ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª

```typescript
// utils/formatters.ts

export const formatNumber = (num: number): string => {
  if (num < 1000) return num.toFixed(num % 1 === 0 ? 0 : 1);
  if (num < 1_000_000) return (num / 1000).toFixed(1) + 'K';
  if (num < 1_000_000_000) return (num / 1_000_000).toFixed(2) + 'M';
  if (num < 1_000_000_000_000) return (num / 1_000_000_000).toFixed(2) + 'B';
  return (num / 1_000_000_000_000).toFixed(2) + 'T';
};

export const formatTime = (seconds: number): string => {
  if (seconds < 60) return `${Math.floor(seconds)}—Å`;
  if (seconds < 3600) return `${Math.floor(seconds / 60)}–º ${Math.floor(seconds % 60)}—Å`;
  const hours = Math.floor(seconds / 3600);
  const minutes = Math.floor((seconds % 3600) / 60);
  return `${hours}—á ${minutes}–º`;
};

export const formatPerSecond = (rate: number): string => {
  return `${formatNumber(rate)}/—Å–µ–∫`;
};
```
